[![Open in Codespaces](https://classroom.github.com/assets/launch-codespace-2972f46106e565e64193e422d61a12cf1da4916b45550586e14ef0a7c637dd04.svg)](https://classroom.github.com/open-in-codespaces?assignment_repo_id=17048223)
## Question 1 
### In the shell file, the file runs the python code to generate the dirty data. Then it is cleaned by removing the extra commas, comment lines, and empty lines. Then only the essential columns are extracted (columns 1, 2, 4, 5, and 6) awk -F, 'BEGIN {OFS=","} {print $1, $2, $4, $5, $6}', and for the walking speed column we only want walking speeds that are between 2-8.0 ft/s which is done through awk -F, '$5 >= 2.0 && $5 <= 8.0'. The insurance list file is then created with the three tiers. Lastly, a summary is generated using total_visits=$(wc -l < "C:/Users/mihir/OneDrive/Desktop/Assignment9/ms_data.csv") and "head" to print the first few records. 
## Question 2
### First the clean data set ms_data.csv is loaded and the values in visit_date column are changed to datetime object, I chose to remove the missing data (had I decided to use the average, the end calculations might have been different). I then add the insurance information to a list and assign it to each patient ID. For the insurance costs, I chose 100, 200, and 300 for the three tiers respectively, with random variation between -20 and 20. Then the three statistics are calculated: mean walking speed by education level mean_walking_speed_by_education = data.groupby('education_level')['walking_speed'].mean(), mean costs by insurance types mean_costs_by_insurance = data.groupby('insurance_type')['visit_cost'].mean(), and the effect of age on walking speed age_effects_on_walking_speed = data.groupby('age')['walking_speed'].mean(). 
## Question 3
### For the statistical analysis, using the clean data, I first make sure visit_date is a datetime object and drop missing data. To analyze walking speed: a multiple regression graph is created model_walking_speed = smf.ols('walking_speed ~ education_level + age', data=data).fit(), I then account for repeated measures model_mixed = smf.mixedlm('walking_speed ~ education_level + age', data, groups=data['patient_id']).fit(), and lastly use an ANOVA test for significant trends in the data anova_results = sm.stats.anova_lm(model_walking_speed, typ=2). To analyze the costs: an ols analysis models is first created model_costs = smf.ols('visit_cost ~ insurance_type', data=data).fit(), then a box plot is created to help visualize the data, and lastly effect sizes are calculated effect_sizes = data.groupby('insurance_type')['visit_cost'].mean(). For the advanced analysis, I analyzed how education and age affect walking speeds if there is any, I control for confounders then print the stats and p-values. 
## Question 4
### To visualize the data in a Jupyter notebook, first a scatter plot of age vs walking speed is created with a regression line, then a box plot comparing education levels is made. Next, a line plot depicting an education-age interaction is shown along with a bar plot of mean costs by insurance types. A box plot showing cost distributions, a pair plot, and faceted plots by education/insurance are shown. The last part shows the optional extra plots that use the interactive package from plotly. 
